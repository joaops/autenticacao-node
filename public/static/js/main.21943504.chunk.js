(this["webpackJsonpautenticacao-react"]=this["webpackJsonpautenticacao-react"]||[]).push([[0],{39:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a(28),c=a.n(r),o=a(4),i=(a(39),a(2)),u=a(29),l=a.n(u).a.create({baseURL:"https://joaops.com.br/api/v1"}),j=a(30),m=Object(j.a)(),b=Object(s.createContext)(),d=function(e){var t=e.children,a=Object(s.useState)(!1),r=Object(i.a)(a,2),c=r[0],o=r[1],u=Object(s.useState)(!0),j=Object(i.a)(u,2),d=j[0],p=j[1];if(Object(s.useEffect)((function(){var e=localStorage.getItem("token");e&&(l.defaults.headers.Authorization="Bearer ".concat(e),o(!0)),p(!1)}),[]),d){return Object(n.jsx)("div",{style:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center"},children:Object(n.jsx)("h1",{children:"Loading..."})})}return Object(n.jsx)(b.Provider,{value:{authenticated:c,saveToken:function(e){localStorage.setItem("token",e),l.defaults.headers.Authorization="Bearer ".concat(e),o(!0),m.push("/")},handleLogout:function(){o(!1),localStorage.removeItem("token"),l.defaults.headers.Authorization=void 0,m.push("/login")}},children:t})},p=a(33),O=a(31),h=function(e){var t=e.isPrivate,a=Object(O.a)(e,["isPrivate"]),r=Object(s.useContext)(b).authenticated;return t&&!r?Object(n.jsx)(o.a,{to:"/login"}):Object(n.jsx)(o.b,Object(p.a)({},a))},f=a(7);a(62),a(63);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var g=s.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z",fill:"#ffffff"});function N(e,t){var a=e.title,n=e.titleId,r=x(e,["title","titleId"]);return s.createElement("svg",v({className:"MuiSvgIcon-root",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",width:24,height:24,ref:t,"aria-labelledby":n},r),a?s.createElement("title",{id:n},a):null,g)}var S=s.forwardRef(N),y=(a.p,function(e){var t=Object(s.useState)(e),a=Object(i.a)(t,2),n=a[0],r=a[1],c=Object(s.useRef)(),o=function(e){c.current&&!c.current.contains(e.target)&&r(!1)};return Object(s.useEffect)((function(){return document.addEventListener("click",o,!0),function(){document.removeEventListener("click",o,!0)}})),{ref:c,isComponentVisible:n,setIsComponentVisible:r}}),k=function(){var e=Object(s.useContext)(b),t=e.authenticated,a=e.handleLogout,r=Object(s.useState)({name:"",lastname:""}),c=Object(i.a)(r,2),o=c[0],u=c[1],j=y(!1),m=j.ref,d=j.isComponentVisible,p=j.setIsComponentVisible;return Object(s.useEffect)((function(){t&&l.get("/user/find").then((function(e){u(e.data)}))}),[t]),Object(n.jsxs)("div",{className:"dropdownMenu",style:t?null:{display:"none"},children:[Object(n.jsx)("div",{className:"dropdownMenuIcon",onClick:function(){p(!0)},children:Object(n.jsx)(S,{})}),d&&Object(n.jsxs)("div",{ref:m,className:"dropdownMenuContent",children:[Object(n.jsx)(f.a,{to:"/user",className:"dropdownMenuPerfil",onClick:function(){p(!1)},style:t?null:{display:"none"},children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:{fontSize:"17px",marginBottom:"10px"},children:[o.name," ",o.lastname]}),Object(n.jsx)("div",{style:{fontSize:"15px",color:"#B0B3B8"},children:"Veja o Seu Perfil"})]})}),Object(n.jsx)("div",{className:"dropdownMenuItem",onClick:a,style:t?null:{display:"none"},children:"Sair"})]})]})},F=function(){var e=Object(s.useContext)(b).authenticated;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)(f.a,{to:"/",className:"navbarLink",children:"Home"}),Object(n.jsx)(f.a,{to:"/tasks",className:"navbarLink",style:e?null:{display:"none"},children:"Tasks"}),Object(n.jsx)(f.a,{to:"/login",className:"navbarLink",style:e?{display:"none"}:null,children:"Login"}),Object(n.jsx)(f.a,{to:"/register",className:"navbarLink",style:e?{display:"none"}:null,children:"Register"}),Object(n.jsx)(k,{})]})})},w=(a(64),function(){return Object(n.jsx)("div",{className:"home",children:Object(n.jsx)("h1",{children:"Home"})})}),C=a(6),E=a.n(C),R=a(10),L=(a(66),function(){var e=Object(s.useContext)(b),t=e.authenticated,a=e.saveToken,r=Object(s.useState)(""),c=Object(i.a)(r,2),u=c[0],j=c[1],m=Object(s.useState)(""),d=Object(i.a)(m,2),p=d[0],O=d[1],h=Object(s.useState)(""),v=Object(i.a)(h,2),x=v[0],g=v[1];if(t)return Object(n.jsx)(o.a,{to:"/"});var N=function(){var e=Object(R.a)(E.a.mark((function e(t){var n,s,r,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),n={email:u,password:p},e.next=5,l.post("/user/login",n);case 5:s=e.sent,r=s.data,c=r.token,a(c),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),o=e.t0.response.data.message,g(o),setTimeout((function(){g("")}),4e3);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"loginContainer",children:Object(n.jsxs)("form",{onSubmit:N,className:"loginForm",children:[Object(n.jsx)("span",{className:"titleLoginForm",children:"Login"}),Object(n.jsx)("input",{className:"inputLoginForm",type:"email",value:u,onChange:function(e){return j(e.target.value)},placeholder:"E-mail"}),Object(n.jsx)("input",{className:"inputLoginForm",type:"password",value:p,onChange:function(e){return O(e.target.value)},placeholder:"Senha"}),Object(n.jsx)("button",{className:"buttonLoginForm",type:"submit",children:"Entrar"}),Object(n.jsx)(f.a,{to:"/recover",className:"linkLoginForm",children:"Esqueceu a senha?"}),x&&Object(n.jsx)("span",{className:"errorMessageLoginForm",children:x})]})})}),T=(a(67),function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)([]),o=Object(i.a)(c,2),u=o[0],j=o[1],m=Object(s.useState)(""),b=Object(i.a)(m,2),d=b[0],p=b[1],O=Object(s.useState)(""),h=Object(i.a)(O,2),f=h[0],v=h[1];Object(s.useEffect)((function(){g()}),[]);var x=function(){var e=Object(R.a)(E.a.mark((function e(t){var n,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),n={description:a},e.next=5,l.post("/task",n);case 5:r(""),g(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),s=e.t0.response.data.message,p(s),setTimeout((function(){p("")}),5e3);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){try{l.get("/task").then((function(e){j(e.data)}))}catch(t){var e=t.response.data.message;v(e),setTimeout((function(){v("")}),5e3)}};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"taskFormContainer",children:Object(n.jsxs)("form",{className:"taskForm",onSubmit:x,children:[Object(n.jsx)("span",{className:"titleTaskForm",children:"Adicionar Tarefa"}),Object(n.jsx)("input",{className:"inputTaskForm",type:"text",value:a,onChange:function(e){return r(e.target.value)},placeholder:"Descri\xe7\xe3o"}),Object(n.jsx)("button",{className:"buttonTaskForm",type:"submit",children:"Salvar"}),d&&Object(n.jsx)("span",{className:"messageErrorTaskForm",children:d})]})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Lista de Tarefas"}),Object(n.jsxs)("ul",{children:[u.map((function(e){return Object(n.jsx)("li",{children:e.description},e._id)})),f&&Object(n.jsx)("span",{children:f})]})]})]})}),P=(a(68),function(){var e=Object(s.useContext)(b).authenticated,t=Object(s.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],u=Object(s.useState)(""),j=Object(i.a)(u,2),m=j[0],d=j[1],p=Object(s.useState)(""),O=Object(i.a)(p,2),h=O[0],f=O[1],v=Object(s.useState)(!1),x=Object(i.a)(v,2),g=x[0],N=x[1],S=Object(s.useState)(""),y=Object(i.a)(S,2),k=y[0],F=y[1],w=function(){var e=Object(R.a)(E.a.mark((function e(t){var a,n,s,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a={email:r,name:m,lastname:h},e.next=5,l.post("/user/register",a);case 5:n=e.sent,s=n.data,s&&(c(""),d(""),f(""),N(!0)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),o=e.t0.response.data.message,F(o),setTimeout((function(){F("")}),1e4);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return e?Object(n.jsx)(o.a,{to:"/"}):Object(n.jsxs)("div",{className:"registerContainer",children:[!g&&Object(n.jsxs)("form",{className:"registerForm",onSubmit:w,children:[Object(n.jsx)("span",{className:"titleRegisterForm",children:"Registro de Usu\xe1rio"}),Object(n.jsx)("input",{className:"inputRegisterForm",type:"email",value:r,onChange:function(e){return c(e.target.value)},placeholder:"E-mail"}),Object(n.jsx)("input",{className:"inputRegisterForm",type:"text",value:m,onChange:function(e){return d(e.target.value)},placeholder:"Nome"}),Object(n.jsx)("input",{className:"inputRegisterForm",type:"text",value:h,onChange:function(e){return f(e.target.value)},placeholder:"Sobrenome"}),Object(n.jsx)("button",{className:"buttonRegisterForm",type:"submit",children:"Registrar"}),k&&Object(n.jsx)("span",{className:"messageErrorRegisterForm",children:k})]}),g&&Object(n.jsxs)("div",{className:"registerForm",children:[Object(n.jsx)("span",{className:"titleRegisterForm",children:"Usu\xe1rio Cadastrado Com Sucesso"}),Object(n.jsx)("span",{className:"messageSuccessRegisterForm",children:"Verifique a caixa de entrada do seu endere\xe7o de e-mail e clique no link para definir uma senha."})]})]})}),I=(a(69),function(){var e=Object(s.useContext)(b).authenticated,t=Object(s.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],u=Object(s.useState)(""),j=Object(i.a)(u,2),m=j[0],d=j[1],p=Object(s.useState)(!1),O=Object(i.a)(p,2),h=O[0],f=O[1];if(e)return Object(n.jsx)(o.a,{to:"/"});var v=function(){var e=Object(R.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a={email:r},e.next=5,l.post("/user/recover",a);case 5:f(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response.data.message,d(n),setTimeout((function(){d("")}),1e4);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"recoverContainer",children:[!h&&Object(n.jsxs)("form",{className:"recoverForm",onSubmit:v,children:[Object(n.jsx)("span",{className:"titleRecoverForm",children:"Recuperar Senha"}),Object(n.jsx)("input",{className:"inputRecoverForm",type:"email",value:r,onChange:function(e){return c(e.target.value)},placeholder:"E-mail"}),Object(n.jsx)("button",{className:"buttonRecoverForm",type:"submit",children:"Enviar"}),m&&Object(n.jsx)("span",{className:"messageErrorRecoverForm",children:m})]}),h&&Object(n.jsxs)("div",{className:"recoverForm",children:[Object(n.jsx)("span",{className:"titleRecoverForm",children:"Recuperar Senha"}),Object(n.jsx)("span",{className:"messageSuccessRecoverForm",children:"Verifique a caixa de entrada do seu endere\xe7o de e-mail e clique no link para definir uma senha."})]})]})}),U=(a(70),function(){var e=Object(s.useContext)(b).saveToken,t=Object(o.g)().passwordConfig,a=Object(s.useState)(""),r=Object(i.a)(a,2),c=r[0],u=r[1],j=Object(s.useState)(""),m=Object(i.a)(j,2),d=m[0],p=m[1],O=function(){var a=Object(R.a)(E.a.mark((function a(n){var s,r,o,i,u;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n.preventDefault(),s={password:c,passwordConfig:t},a.next=5,l.post("/user/password",s);case 5:r=a.sent,o=r.data,i=o.token,e(i),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),u=a.t0.response.data.message,p(u),setTimeout((function(){p("")}),1e4);case 16:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"passwordContainer",children:Object(n.jsxs)("form",{className:"passwordForm",onSubmit:O,children:[Object(n.jsx)("span",{className:"titlePasswordForm",children:"Defini\xe7\xe3o da Senha"}),Object(n.jsx)("input",{className:"inputPasswordForm",type:"password",value:c,onChange:function(e){return u(e.target.value)},placeholder:"Senha"}),Object(n.jsx)("button",{className:"buttonPasswordForm",type:"submit",children:"Salvar"}),d&&Object(n.jsx)("span",{className:"messageErrorPasswordForm",children:d})]})})}),D=(a(71),function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)({_id:"",email:"",name:"",lastname:""}),o=Object(i.a)(c,2),u=o[0],j=o[1],m=Object(s.useContext)(b).authenticated,d=Object(s.useState)(""),p=Object(i.a)(d,2),O=p[0],h=p[1],f=Object(s.useState)(""),v=Object(i.a)(f,2),x=v[0],g=v[1];Object(s.useEffect)((function(){m&&l.get("/user/find").then((function(e){j(e.data)}))}),[m]);var N=function(){var e=Object(R.a)(E.a.mark((function e(t){var n,s,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),n={name:u.name,lastname:u.lastname,password:a},e.next=5,l.put("/user",n);case 5:s=e.sent,r=s.data,j(r),h("Dados Atualizados Com Sucesso."),setTimeout((function(){h("")}),5e5),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),c=e.t0.response.data.message,g(c),setTimeout((function(){g("")}),1e4);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"userContainer",children:Object(n.jsxs)("form",{className:"userForm",onSubmit:N,children:[Object(n.jsx)("span",{className:"titleUserForm",children:"Alterar Dados de Usu\xe1rio"}),Object(n.jsx)("input",{className:"inputUserForm inputDisabledUserForm",type:"email",name:"email",value:u.email,placeholder:"E-mail",disabled:!0}),Object(n.jsx)("input",{className:"inputUserForm",type:"text",name:"name",value:u.name,onChange:function(e){return j({name:e.target.value})},placeholder:"Nome"}),Object(n.jsx)("input",{className:"inputUserForm",type:"text",name:"lastname",value:u.lastname,onChange:function(e){return j({lastname:e.target.value})},placeholder:"Sobrenome"}),Object(n.jsx)("input",{className:"inputUserForm",type:"password",name:"password",value:a,onChange:function(e){return r(e.target.value)},placeholder:"Nova Senha"}),Object(n.jsx)("button",{className:"buttonUserForm",type:"submit",children:"Salvar"}),O&&Object(n.jsx)("span",{className:"successMessageUserForm",children:O}),x&&Object(n.jsx)("span",{className:"errorMessageUserForm",children:x})]})})});var M=function(){return Object(n.jsx)(d,{children:Object(n.jsxs)(o.c,{history:m,children:[Object(n.jsx)(F,{}),Object(n.jsxs)(o.d,{children:[Object(n.jsx)(h,{exact:!0,path:"/",component:w}),Object(n.jsx)(h,{isPrivate:!0,exact:!0,path:"/tasks",component:T}),Object(n.jsx)(h,{exact:!0,path:"/login",component:L}),Object(n.jsx)(h,{exact:!0,path:"/register",component:P}),Object(n.jsx)(h,{exact:!0,path:"/recover",component:I}),Object(n.jsx)(h,{exact:!0,path:"/password/:passwordConfig",component:U}),Object(n.jsx)(h,{isPrivate:!0,exact:!0,path:"/user",component:D})]})]})})};c.a.render(Object(n.jsx)(M,{}),document.getElementById("root"))}},[[72,1,2]]]);